## Introduction
Modern technology has evolved to a point where we are able to acquire, with advanced microscopes, precise and high-resolution images. However, to process such amounts of complex information, we usually resorted to manual protocols of analysis, which are very time-consuming. In addition, manual processing of the data introduces user bias and a lack of reproducibility. Therefore, automation of the analysis and reduction of processing time should become onet of the main objectives of the field. 
To overcome the limitations mentioned above, several computational tools like FIJI - a common platform for biological-image analysis used nowadays - have been established in the research community. We have choosen FIJI (Itâ€™s Just Image J) (Schindelin et al. 2012) as our main tool for this project, it contains the largest set of plugins available, a great variety of functionalities and allow creation of macros to automate some of the processes.
The main focus of this project is to create a pipeline to generate a standardised image analysis protocol to allow the comparison of samples from different experimental setups. Here we propose a set of macros for FIJI, which automatize the processing of the samples, analysis of stacks and quantify 3D volumes. With computational approaches like this one, the user bias of the analysis can be significantly reduced. 
Despite having reduced the human bias resulting from the manual processing, there is still a bias that comes from the segmentation process of the stacks itself. More specifically it is introduced by the user-supervised training of the auto-segmentation algorithm. To reduce it, the pipeline runs through, in our case, four user-trained algorithms which are later averaged and thresholded to achieve a closer-to-reality segmented sample,  capable of compensating for this bias. 
With the Digital 3D-Atlas MAKER (DAMAKER) we created a digital 3D processing method useful for investigating the temporal and morphogenetic changes in the hindbrain of Zebrafish embryos (Blanc et al. 2022, unpublished). We have developed a series of macros in ImageJ Macro language with which we implemented new functionalities in FIJI as well as automatized some of the preexisting ones, to make more efficient the image processing. 
Moreover, the pipeline is flexible to modifications to fit different experimental batches, organs and/or model organisms. To do so requires little to no coding language knowledge, meaning this tool suitable for all researchers regardless of their computational skills. 
We also provide an R Code tool that plots the data obtained in some of the outputs. And a python script to analyze the shape of the 3D models obtained through the pipeline.

![image](https://user-images.githubusercontent.com/102226466/180606064-5ddbed93-e7c0-4d2b-8d63-2dae5153aaf5.png)

Fig 1. DAMAKER image analysis pipeline diagram. (A) Processing: The user will manually select, crop and flip the stacks to be registered. Once automatically registered, the aligned single-channel stacks will be automatically processed with a trained segmentation algorithm, using the Segmentation Macro, and give back a user-segmented single-channel stacks. From here, an option is to either obtain contextualized single-channel stacks with the Contextualization Macro or skip that step and average the user segmented samples and run them through a threshold (User Average and Threshold Macros). When these steps are finalized, we obtain a binary sample single-channel stack. (B) Quantification: From the Binary sample single-channel stacks with the Global Quantification Macro we obtain a Datasheet with the volume of signal in each sample stack. From the same stack (Binary sample single-channel) throughout the pipeline we can reslice it and run a slice-by-slice quantification, obtaining a set of Datasheets detailing the Signal axis Distribution of the samples. (C) Model generation: Again from the Binary sample single-channel stacks after Sample Averaging and submitting them through a threshold, we obtain a resulting stack, a model of quality assessment and a model integrated into the atlas.
In red text we can see represented the process or macros, in black text the items either the user or the system will provide, in black squares, the stacks or images and in white squares the data sheets. 

## In depth description of the pipeline
The description of the individual macros and how to use them is available in the wiki section of this Github page.
